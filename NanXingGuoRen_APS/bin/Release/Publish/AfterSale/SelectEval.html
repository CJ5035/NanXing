<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <link href="../layui-v2.4.5/layui/css/layui.css" rel="stylesheet" />
    <script src="../layui-v2.4.5/layui/layui.js"></script>
    <title>售后服务工单评价</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
</head>
<body>
    <table id="demo" lay-filter="test"></table>

    <script>
        layui.use('table', function () {
            var table = layui.table;

            //第一个实例
            table.render({
                elem: '#demo'
                , height: 312
                , url: 'GetAllOrder.ashx?evaluate=1' //数据接口
                , page: true //开启分页
                , cols: [[ //表头
                    { field: 'ID', title: 'ID', width: 80, sort: true, fixed: 'left', hide: true }
                    , { field: 'ChineseName', title: '实施人员', width: 100 }
                    , { field: 'Name', title: '客户', width: 250 }
                    , { field: 'order_desc', title: '服务需求描述', width: 100 }
                    , { field: 'input_date', title: '日期', width: 120 }
                ]]
            });

            //监听行单击事件
            table.on('row(test)', function (obj) {
                //console.log(obj.tr) //得到当前行元素对象
                console.log(obj.data) //得到当前行数据
                //obj.del(); //删除当前行
                //obj.update(fields) //修改当前行数据
                window.location.href = "ServiceEval.aspx?ID=" + obj.data.ID;
            });

        });
    </script>
</body>
</html>